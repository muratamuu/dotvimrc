# Cheat Sheet

## vim

### 移動
* `w/W` 次のword/WORDの先頭に移動
* `e/E` 次のword/WORDの末尾に移動
* `b/B` 前のword/WORDの先頭に移動
* `ge/gE` 前のword/WORDの末尾に移動
* `{}` 段落単位
* [無効] `t/T[文字]` **現在行**で前方/後方に文字を検索して、**直前に**カーソル移動。`;/,`で順/逆方向繰り返し
* `f/F[文字]` **現在行**で前方/後方に文字を検索して、**その文字に**カーソル移動。`;/,`で順/逆方向繰り返し
* `H/M/L` 現在表示されている一番上/中央/下の行に移動
* `gg` ファイルの先頭に移動
* `G` ファイルの末尾に移動
* `<Leader><Leader>f/F[文字]` 前方/後方に文字を**高速移動** `ESC`でキャンセル
* `<Leader><Leader>w/W` 次のword/WORDの先頭に**高速移動**
* `<Leader><Leader>e/E` 次のword/WORDの末尾に**高速移動**
* `<Leader><Leader>b/B` 前のword/WORDの先頭に**高速移動**
* `<Leader><Leader>ge/gE` 前のword/WORDの末尾に**高速移動**
* `<Leader><Leader>k/j` 上の行/下の行の先頭に**高速移動**
* `<Leader><Leader>n/N` 直前の検索結果に基づいて前方/後方の結果に**高速移動**

### ファイル内検索
* `<Leader>l` 開いているファイルの文字列検索

### ファイルを開く (fuzzy-find)
* `<Leader>f` **カレントディレクトリ配下**(`tf`)または**Gitリポジトリ配下**(`tg`)のファイルを絞り込んで開く
* `<Leader>g` **文字列を検索**してファイルを絞り込んで開く
* `<Leader>h` or `th` **履歴**からファイルを絞り込んで開く
* `<Leader>b` or `tb` **バッファ**を絞り込んで開く
* `<Leader>b + <Enter>` **直前のバッファ**を開く
* `<Leader>w` **カーソル位置の単語を検索して**ファイルを絞り込んで開く

検索した後の開き方

* `<Enter>` **現在のウィンドウ**で開く
* `<C-v>` **垂直分割**で開く
* `<C-x>` **水平分割**で開く

### バッファを切り替える
* `<C-n>` or `]b` **次のバッファ**に切り替える
* `<C-p>` or `[b` **前のバッファ**に切り替える

### QuickFixを切り替える
* `:copen` QuickFixを開く
* `:cclose` QuickFixを閉じる
* `]q` **次のQuickFix**を開く
* `[q` **前のQuickFix**を開く

### ファイル検索
* `:vimgrep <pattern> **/*` パターンの文字列を含むファイルを再帰検索
  * `]q, [q` で検索結果QuickListを移動
* `:grep -r <pattern> *`: パターンの文字列を含むファイルを再帰検索
  * `]q, [q` で検索結果QuickListを移動

### Git操作
* `]c` **次の変更点**まで移動
* `[c` **前の変更点**まで移動
* `gh` 変更行を**ハイライト**
* `:Glog` ログを見る
* `:Gdiff [コミット番号]` **HEAD**または**コミット番号**との**差分**を見る
* `:Gblame` 現在の修正が**誰によるものか**を見る
* `:Gstatus` **ステータス画面**を開く
  * `-` **ステージング**切り替え
  * `X` 差分を**戻す**
  * `=` **ウィンドウ内に差分**を表示
  * `dd` **diffウィンドウ**を表示
  * `cc` **コミット**
  * `ca` **コミット --amend**
* `:Gpush` **push**する
* `:Gpull` **pull**する
* `<Leader> + M` **ステータス画面**を開く
  * `S` **ハンク**ごとに**ステージング**を切り替え
  * `DDD` 差分を**戻す**
  * `CC` **コミット**
  * `CA` **コミット --amend**
  * `R` バッファを**リフレッシュ**
  * `q` バッファを閉じる

### クイック実行
* `<Leader> + r` **クイック実行**
* `:QuickRun -args "foo bar baz"` 引数を渡す

### 挿入
* gi : 最後にインサートモードを抜けた箇所からインサートする
* cc,S : インデントを保存しつつ行の内容をすべて削除してインサートモードに入る
* C : インサートモードに入る前にカーソルから右の文字をすべて削除する
* s : インサートモードに入る前にカーソル下の文字を削除する (数字を付けると数字文文字を削除する)
* インサートモード中に Ctrl+o で一回だけコマンド実行する
* ビジュアルモードで選択後に `S` で前後に挿入できる

### レジスタ
* "ayw : aレジスタにワードをヤンク
* "ap : aレジスタの内容をペースト
* "%p : ファイル名をペースト %: ファイル名レジスタ
* "#p : 最後に開かれたファイル名をペースト #: 最後に開かれたファイル名
* ".p : 最後に挿入されたテキストをペースト .: 最後に挿入されたテキスト
* ":p : 最後に実行されたコマンドをペースト : 最後に実行されたコマンド
* "*p : クリップボードの内容をペースト *: システムのクリップボード
* インサート中に Ctrl+r でレジスタの内容をペーストする
* :reg : 全てのレジスタの内容を確認する :reg a b : a, bレジスタの内容を確認する

### 選択
* `vi"` : ダブルクォートの中を選択  va" : ダブルクォートも選択
* vi] : []の中を選択  va] : []も選択
* vi) : ()の中を選択  va) : ()も選択

### タグ
* gd : 変数を宣言している場所に移動
* gD : グローバスにファイル先頭から探す
* Ctrl+] : タグの定義場所に移動する
* Ctrl+t : タグスタックをさかのぼる
* :ts : タグリスト
* :tn, :tp : タグを表示する

### マーキング
* `m[a-z]` カーソル位置をマークする
* ` `[a-z] マークした位置に戻る

### 折り畳み
* `zo` 展開
* `zc` 折りたたむ
* `zR` 全展開
* `zM` 全部折りたたむ

### マクロ
* q[任意のアルファベット] : 記録開始 (qa)
* q : 記録停止
* @[記録したアルファベット] : マクロ再生 (@a)
* @@ : 直前のマクロ再生を繰り返す

### ウィンドウ操作
* `C-w x` 隣の(次位置)ウィンドウと**入れ替え**
* `C-w r or R` ウィンドウ位置を回転(順方向/逆方向)
* `C-w c`, `:close` **現在のウィンドウ**を**閉じる**
* `C-w o`, `:only` **現在のウィンドウ以外**を**閉じる**

### ウィンドウリサイズ
* `C-e` `hjkl`でウィンドウサイズを変更して`Enter`で確定
* `C-w [+/-]`, `:resize [+/-]N` 現在のウィンドウの**高さ**をN行増加/減少させる
* `C-w [>/<]`, `:vertical resize [+/-]N` 現在のウィンドウの**幅**をN列増加/減少させる

### ターミナル
* Ctrl+w "<レジスタ名> : レジスタの内容を張り付ける  Ctrl+w "" で直前のコメントを入れられる
* Ctrl+w Ctrl+c : ターミナルを終了する
* Ctrl+c Ctrl+c : 多いーみなるにCtrl+cを送信する

### コマンドラインモード
* : コマンドラインモードに入る
* Ctrl+p, Ctrl+n コマンド履歴を移動
* Ctrl+b, Ctrl+e コマンドラインの先頭、末尾に移動
* Ctrl+f, Ctrl+c コマンド履歴の編集ウィンドウを開く、閉じる

### Visualモード
* o : 選択範囲の反対側に移動する (したがって、反対側に選択範囲を拡張可能)

### 置換モード
* R : 置換モードに入る

### 組み込み補完
* インサートモードで文字を入力してから Ctrl+n, Ctrl+p で補完
* インサートモードでCtrl+x, Ctrl+l 行を丸ごと補完
* インサートモードでCtrl+x, Ctrl+] タグを補完
* インサートモードでCtrl+x, Ctrl+f ファイル名を補完

### Netrwのコマンド
* :Vex : 縦分割されたウィンドウでNetrwを開く
* :Sex : 横分割されたウィンドウでNetrwを開く
* :Lex : 一番左に最大の高さのウィンドウでNetrwを開く
* Enter : ファイルまたはディレクトリを開く
* - : ディレクトリを上がる
* D : ファイルまたはディレクトリを削除する
* R : ファイルまたはディレクトリをリネームする

